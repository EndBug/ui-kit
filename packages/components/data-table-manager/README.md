<!-- THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY. -->
<!-- This file is created by the `yarn generate-readme` script. -->

# DataTableManager

## Description

> THIS COMPONENT IS IN BETA!
> Please be aware that it may be subject to upcoming breaking changes as it's still in active development.

This component enhances the `<DataTable>` component and additionally provides a UI and state management to handle configuration of the table such as column manager.

- The `disableDisplaySettings` enables / disables the layout settings panel, allowing the user to select wrapping text and density display options.
- The `disableColumnManager` enables / disables the column manager panel, allowing the user to select which columns are visible.

Both panels delegate the handling of the settings change on the parent through function properties, allowing the settings to be persisted or just used as state props.

## Installation

```
yarn add @commercetools-uikit/data-table-manager
```

```
npm --save install @commercetools-uikit/data-table-manager
```

Additionally install the peer dependencies (if not present)

```
yarn add react react-dom react-intl
```

```
npm --save install react react-dom react-intl
```

## Usage

```jsx
import DataTableManager from '@commercetools-uikit/data-table-manager';
import DataTable from '@commercetools-uikit/data-table';

const rows = [
  { id: 'parasite', title: 'Parasite', country: 'South Korea' },
  { id: 'portrait', title: 'Portrait of a Lady on Fire', country: 'France' },
  { id: 'wat', title: 'Woman at War', country: 'Iceland' },
];

const columns = [
  { key: 'title', label: 'Title' },
  { key: 'country', label: 'Country' },
];

const Example = () => (
  <DataTableManager columns={columns}>
    <DataTable rows={rows} />
  </DataTableManager>
);

export default Example;
```

## DataTableManager

### Properties

| Props              | Type                                                             | Required | Default | Description                                                                                                                                                                                                                                                                                                       |
| ------------------ | ---------------------------------------------------------------- | :------: | ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `columns`          | `Array: TColumnProps[]`<br/>[See signature.](#signature-columns) |    ✅    |         | Each object requires a unique `key` which should correspond to property key of&#xA;the items of `rows` that you want to render under this column, and a `label`&#xA;which defines the name shown on the header.&#xA;The list of columns to be rendered.&#xA;Each column can be customized (see properties below). |
| `children`         | `ReactElement`                                                   |    ✅    |         | Any React node. Usually you want to render the `<DataTable>` component.&#xA;<br>&#xA;Note that the child component will implicitly receive the props `columns` and `isCondensed` from the `<DataTableManager>`.                                                                                                   |
| `displaySettings`  | `Object`<br/>[See signature.](#signature-displaysettings)        |          |         | The managed display settings of the table.                                                                                                                                                                                                                                                                        |
| `columnManager`    | `Object`<br/>[See signature.](#signature-columnmanager)          |          |         | The managed column settings of the table.                                                                                                                                                                                                                                                                         |
| `onSettingsChange` | `Function`<br/>[See signature.](#signature-onsettingschange)     |          |         | A callback function, called when any of the properties of either display settings or column settings is modified.                                                                                                                                                                                                 |
| `topBar`           | `ReactNode`                                                      |          |         | A React node for rendering additional information within the table manager.                                                                                                                                                                                                                                       |
| `managerTheme`     | `union`<br/>Possible values:<br/>`'light' , 'dark'`              |          |         | Sets the background theme of the Card that contains the settings                                                                                                                                                                                                                                                  |

### Signatures

#### Signature `columns`

```ts
{
  /**
   * The unique key of the column that is used to identify your data type.
   * You can use this value to determine which value from a row item should be rendered.
   * <br>
   * For example, if the data is a list of users, where each user has a `firstName` property,
   * the column key should be `firstName`, which renders the correct value by default.
   * The key can also be some custom or computed value, in which case you need to provide
   * an explicit mapping of the value by implementing either the `itemRendered` function or
   * the column-specific `renderItem` function.
   */
  key: string;

  /**
   * The label of the column that will be shown on the column header.
   */
  label: ReactNode;

  /**
   * Sets a width for this column. Accepts the same values as the ones specified for
   * individual [grid-template-columns](https://developer.mozilla.org/en-US/docs/Web/CSS/grid-template-columns).
   * <br>
   * For example, using `minmax` pairs (e.g. `minmax(200px, 400px)`), a combinations of
   * fraction values (`1fr`/`2fr`/etc), or fixed values such as `200px`.
   * By default, the column grows according to the content and respecting the total table available width.
   */
  width?: string;

  /**
   * Use this to override the table's own `horizontalCellAlignment` prop for this specific column.
   */
  align?: 'left' | 'center' | 'right';

  /**
   * A callback function, called when the header cell is clicked.
   */
  onClick?: (event: MouseEventHandler) => void;

  /**
   * A callback function to render the content of cells under this column, overriding
   * the default `itemRenderer` prop of the table.
   */
  renderItem?: <T extends TRow>(row: T, isRowCollapsed: boolean) => ReactNode;

  /**
   * Use this prop to place an `Icon` or `IconButton` on the left of the column label.
   * It is advised to place these types of components through this prop instead of `label`,
   * in order to properly position and align the elements.
   * This is particularly useful for medium-sized icons which require more vertical space than the typography.
   */
  headerIcon?: ReactNode;

  /**
   * Set this to `true` to allow text content of this cell to be truncated with an ellipsis,
   * instead of breaking into multiple lines.
   * <br>
   * NOTE: when using this option, it is recommended to specify a `width` for the column, because
   * if the table doesn't have enough space for all columns, it will start clipping the columns
   * with _truncated_ content, and if no `width` is set (or the value is set `auto` -- the default)
   * it can shrink until the column disappears completely.
   * By enforcing a minimum width for these columns, the table will respect them and grow horizontally,
   * adding scrollbars if needed.
   */
  isTruncated?: boolean;

  /**
   * Set this to `true` to show a sorting button, which calls `onSortChange` upon being clicked.
   * You should enable this flag for every column you want to be able to sort.
   * When at least one column is sortable, the table props `sortBy`, `sortDirection` and `onSortChange` should be provided.
   */
  isSortable?: boolean;

  /**
   * Set this to `true` to prevent this column from being manually resized by dragging
   * the edge of the header with a mouse.
   */
  disableResizing?: boolean;

  /**
   * Set this to `true` to prevent click event propagation for this cell.
   * You might want this if you need the column to have its own call-to-action or input while
   * the row also has a defined `onRowClick`.
   */
  shouldIgnoreRowClick?: boolean;
}
```

#### Signature `displaySettings`

```ts
{
  /**
   * Set this flag to `false` to show the display settings panel option.
   *
   * @@defaultValue@@: true
   */
  disableDisplaySettings?: boolean;

  /**
   * Set this to `true` to reduce the paddings of all cells, allowing the table to display
   * more data in less space.
   *
   * @@defaultValue@@: false
   */
  isCondensed?: boolean;

  /**
   * Set this to `true` to allow text in a cell to wrap.
   * <br>
   * This is required if `disableDisplaySettings` is set to `false`.
   *
   * @@defaultValue@@: false
   */
  isWrappingText?: boolean;

  /**
   * A React element to be rendered as the primary button, useful when the display settings work as a form.
   */
  primaryButton?: ReactElement;

  /**
   * A React element to be rendered as the secondary button, useful when the display settings work as a form.
   */
  secondaryButton?: ReactElement;
}
```

#### Signature `columnManager`

```ts
{
  /**
   * Set this to `true` to show a search input for the hidden columns panel.
   */
  areHiddenColumnsSearchable?: boolean;

  /**
   * Set this to `false` to show the column settings panel option.
   *
   * @@defaultValue@@: true
   */
  disableColumnManager?: boolean;

  /**
   * The keys of the visible columns.
   */
  visibleColumnKeys: string[];

  /**
   * The keys of the visible columns.
   */
  hideableColumns?: TColumnData[];

  /**
   * A callback function, called when the search input for the hidden columns panel changes.
   */
  searchHiddenColumns?: (searchTerm: string) => Promise<void> | void;

  /**
   * Placeholder value of the search input for the hidden columns panel.
   */
  searchHiddenColumnsPlaceholder?: string;

  /**
   * A React element to be rendered as the primary button, useful when the column settings work as a form.
   */
  primaryButton?: ReactElement;

  /**
   * A React element to be rendered as the secondary button, useful when the column settings work as a form.
   */
  secondaryButton?: ReactElement;
}
```

#### Signature `onSettingsChange`

```ts
(
  settingName: string,
  settingValue: boolean | string[]
) => void
```

## DataTableSettings

### Properties

| Props              | Type                                                           | Required | Default | Description                                                                                                       |
| ------------------ | -------------------------------------------------------------- | :------: | ------- | ----------------------------------------------------------------------------------------------------------------- |
| `topBar`           | `ReactNode`                                                    |          |         | A React node for rendering additional information within the table manager.                                       |
| `onSettingsChange` | `Function`<br/>[See signature.](#signature-onsettingschange-1) |          |         | A callback function, called when any of the properties of either display settings or column settings is modified. |
| `displaySettings`  | `Object`<br/>[See signature.](#signature-displaysettings-1)    |          |         | The managed display settings of the table.                                                                        |
| `columnManager`    | `Object`<br/>[See signature.](#signature-columnmanager-1)      |          |         | The managed column settings of the table.                                                                         |
| `managerTheme`     | `union`<br/>Possible values:<br/>`'light' , 'dark'`            |          |         | Sets the background theme of the Card that contains the settings                                                  |

### Signatures

#### Signature `onSettingsChange`

```ts
(
  settingName: string,
  settingValue: boolean | string[]
) => void
```

#### Signature `displaySettings`

```ts
{
  /**
   * Set this flag to `false` to show the display settings panel option.
   *
   * @@defaultValue@@: true
   */
  disableDisplaySettings?: boolean;

  /**
   * Set this to `true` to reduce the paddings of all cells, allowing the table to display
   * more data in less space.
   *
   * @@defaultValue@@: false
   */
  isCondensed?: boolean;

  /**
   * Set this to `true` to allow text in a cell to wrap.
   * <br>
   * This is required if `disableDisplaySettings` is set to `false`.
   *
   * @@defaultValue@@: false
   */
  isWrappingText?: boolean;

  /**
   * A React element to be rendered as the primary button, useful when the display settings work as a form.
   */
  primaryButton?: ReactElement;

  /**
   * A React element to be rendered as the secondary button, useful when the display settings work as a form.
   */
  secondaryButton?: ReactElement;
}
```

#### Signature `columnManager`

```ts
{
  /**
   * Set this to `true` to show a search input for the hidden columns panel.
   */
  areHiddenColumnsSearchable?: boolean;

  /**
   * Set this to `false` to show the column settings panel option.
   *
   * @@defaultValue@@: true
   */
  disableColumnManager?: boolean;

  /**
   * The keys of the visible columns.
   */
  visibleColumnKeys: string[];

  /**
   * The keys of the visible columns.
   */
  hideableColumns?: TColumnData[];

  /**
   * A callback function, called when the search input for the hidden columns panel changes.
   */
  searchHiddenColumns?: (searchTerm: string) => Promise<void> | void;

  /**
   * Placeholder value of the search input for the hidden columns panel.
   */
  searchHiddenColumnsPlaceholder?: string;

  /**
   * A React element to be rendered as the primary button, useful when the column settings work as a form.
   */
  primaryButton?: ReactElement;

  /**
   * A React element to be rendered as the secondary button, useful when the column settings work as a form.
   */
  secondaryButton?: ReactElement;
}
```
